#!/data/data/com.termux/files/usr/bin/bash
#########容器主程序#########
###### Github@Moe-hacker ######
#❀我萌故我在❀
#•.,¸,.•*¯`•.,¸,.•....╭━━━━━━━━━╮
#`•.,¸,.•*¯`•.,¸,.•*¯.|::::::::::/\__/\
#`•.,¸,.•*¯`•.,¸,.•* <|:::::::::(｡ ●ω●｡)
#`•.,¸,.•*¯`•.,¸,.•*  ╰し--し--Ｊ･ﾟ
#编程第一法则:如果你的代码不知道为啥能跑起来，就别再动它了。
#借鉴了一部分andrax启动脚本，故采用相同的许可证。
###### E-mail: moe-hacker@outlook.com ######
if [[ ! $(whoami) = "root" ]];then #判断用户，若不是root则重新启动
  sudo container $1
  exit
fi
if [[ $1 != configure ]];then
  export $(cat /data/data/com.termux/files/usr/etc/container.conf) #加载配置文件
else
  OUTPUT=y
fi
case $1 in
  *unmount|*un) bash /data/data/com.termux/files/usr/share/termux-container/container-unmount;;
  *help|*h)     bash /data/data/com.termux/files/usr/share/termux-container/container-help;;
  *configure|*c) bash /data/data/com.termux/files/usr/share/termux-container/container-configure;;
  *update|*up) bash /data/data/com.termux/files/usr/share/termux-container/container-update;;
  *mount|*m) bash /data/data/com.termux/files/usr/share/termux-container/container-mount;;
  *)     bash /data/data/com.termux/files/usr/share/termux-container/container-run;;
esac
